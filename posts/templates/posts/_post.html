<div class="col-4 my-3">
<div class="card">
  <div class="card-header">
    <h5 class="card-text">{{ post.user }}</h5>
  </div>
  {% if post.image_set %}
  <div id="post{{ post.pk }}" class="carousel slide" data-ride="carousel">
    
    <div class="carousel-inner">
      {% for image in post.image_set.all %}
        <div class="carousel-item {% if forloop.counter == 1 %} active {% endif %}">
          <img src="{{ image.file.url }}" class="d-block w-100" alt="{{ image.file }}">
        </div>
      {% endfor %}
    </div>
    
    <a class="carousel-control-prev" href="#post{{ post.pk }}" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    
    <a class="carousel-control-next" href="#post{{ post.pk }}" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    
  </div>

  {% else %}
  <img src="#" alt="No image"> 

  {% endif %}

  <div class="card-body">
    <p class="card-text">{{ post.content }}</p>
    
    <div class="d-flex justify-content-end">
      {% if post.user == request.user %}
      <a href="{% url 'posts:update' post.pk%}" class="btn btn-warning">수정</a>
      <form action="{% url 'posts:delete' post.pk %}" method="POST" style="display: inline">
        {% csrf_token %}
        <input type="submit" value="삭제" class="btn btn-danger" />
      </form>
      {% endif %}
    </div>
  </div>
</div>
</div>